-----
### Autoscale 기타 기능 실습
-----
1. EC2 시작 템플릿 생성
   - demo-my-asg-template
   - 키 페어 : 시작 템플릿에 포함하지 않음
   - 방화벽 : 기존 보안 그룹 선택 (default - In-Bound, Out-Bound)

2. Auto-Scaling 그룹
   - demo-asg
   - 시작 템플릿 : demo-my-asg-template
   - 가용 영역 모두 선택
   - 참고 : 인스턴스 축소 보호 - Auto-Scaling 그룹 내 EC2 가 종료되지 않고, 증가만 가능 (특정 애플리케이션이 내려가면 안 되는 경우, 즉, 각 EC2 인스턴스가 어떠한 작업을 처리하고 있으므로 종료하면 안 될 때 사용)
   - 태그  대문자로 시작하는 태그를 비롯한 다양한 태그들을 생성되는 EC2 인스턴스에게 부여 가능
     + 키 : Name, 값 : demo-asg / 새 인스턴스에 태그 지정이 활성화되어 있다면, 올라가는 모든 EC2 인스턴스에 태그가 부여

3. 축소 보호 기능
   - 인스턴스 관리 - 인스턴스 - 작업 - 인스턴스 축소 보호 설정 (EC2 인스턴스 단위로 가능)
   - Auto-Scaling 그룹 : 원하는 용량 0 / 최소 0 ~ 최대 1로 설정하게 되면, 원하는 용량이 0이므로 EC2 인스턴스 종료
   - 하지만, 실행 중인 EC2 인스턴스는 종료되지 않음
     + Could not scale to desired capacity because all remaining instances are protected from scale-in. (축소 보호 설정에 의해 보호)
     + EC2 인스턴스가 줄어들지만, 내부에서 뭔가 수행 중일 경우 사용하고, 로직이 끝나면 축소 보호 제거하면, EC2 인스턴스 삭제
   - 원하는 용량 1 / 최소 0 ~ 최대 2로 설정 - EC2 인스턴스 실행
     + 실행 중인 EC2 인스턴스 - 작업 - 대기로 설정 (StandBy 상태로 설정하는 것으로, 인스턴스를 교체할 것인지, 교체하지 않고 냅둘 것인지 선택 가능)
     + 인스턴스 교체를 체크하면, 다른 EC2 인스턴스로 Provision
     + 인스턴스 교체를 체크하지 않으면, 원하는 용량으로 감소
     + 확인하게 되면, StandBy EC2 인스턴스, InService EC2 인스턴스 하나 존재
     + 즉, 문제가 발생하면 StandBy 상태로 변경하여 디버깅을 하여 문제 발생 파악
     + StandBy EC2 인스턴스를 서비스 중으로 설정하면, 원하는 용량은 1개지만, 결과적으로 EC2 인스턴스는 2개가 지속 (최대 용량이 2개이므로 2개가 실행)
     + 기존의 EC2 인스턴스는 종료됨 (동일한 가용 영역에 존재할 경우) : 가용 영역에 골고루 EC2 인스턴스가 분산되게 하기 위해 밸런스를 맞추기 위해 새로운 인스턴스를 생성해 가용 영역에 배치됨
     + 크기 조정 한도를 조정 (최대 한도 1로 조정) : 세부 정보 - 고급 구성의 인스턴스 종료 정책에 따라 결정
       * 인스턴스 종료 정책은 EC2 인스턴스가 어떤 기준으로 종료될 것인지 정할 수 있음
       * 옛날 인스턴스 / 현재 Launch 템플릿이 아닐 경우 / 요금 발생할 때까지 가장 가까운 것을 종료 등 존재
       * 일시 중지된 프로세스를 설정해 EC2 인스턴스 상태에 따라 실행되거나 중지되 것을 방지 가능
  
